"use strict";(self.webpackChunkspec_untp_website=self.webpackChunkspec_untp_website||[]).push([[220],{5318:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var i=a(7378);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=i.createContext({}),c=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},d=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=c(a),m=n,f=u["".concat(s,".").concat(m)]||u[m]||p[m]||r;return a?i.createElement(f,l(l({ref:t},d),{},{components:a})):i.createElement(f,l({ref:t},d))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,l=new Array(r);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var c=2;c<r;c++)l[c]=a[c];return i.createElement.apply(null,l)}return i.createElement.apply(null,a)}u.displayName="MDXCreateElement"},5611:(e,t,a)=>{a.d(t,{ZP:()=>l});var i=a(5773),n=(a(7378),a(5318));const r={toc:[]};function l(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,i.Z)({},r,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses.")))}l.isMDXComponent=!0},382:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>d});var i=a(5773),n=(a(7378),a(5318)),r=a(5611);const l={sidebar_position:18,title:"Digital Facility Profile"},o=void 0,s={unversionedId:"specification/DigitalFacilityRecord",id:"specification/DigitalFacilityRecord",title:"Digital Facility Profile",description:"Artifacts",source:"@site/docs/specification/DigitalFacilityRecord.md",sourceDirName:"specification",slug:"/specification/DigitalFacilityRecord",permalink:"/spec-untp/docs/specification/DigitalFacilityRecord",draft:!1,editUrl:"https://github.com/uncefact/spec-untp/edit/main/website/docs/specification/DigitalFacilityRecord.md",tags:[],version:"current",sidebarPosition:18,frontMatter:{sidebar_position:18,title:"Digital Facility Profile"},sidebar:"tutorialSidebar",previous:{title:"Digital Traceability Events",permalink:"/spec-untp/docs/specification/DigitalTraceabilityEvents"},next:{title:"Identity Resolver",permalink:"/spec-untp/docs/specification/IdentityResolver"}},c={},d=[{value:"Artifacts",id:"artifacts",level:2},{value:"Stable Releases For Implementation",id:"stable-releases-for-implementation",level:3},{value:"Release for Pilot Testing",id:"release-for-pilot-testing",level:3},{value:"Latest Development Version",id:"latest-development-version",level:3},{value:"Version History",id:"version-history",level:3},{value:"Visualization",id:"visualization",level:3},{value:"Overview",id:"overview",level:2},{value:"Conceptual Model",id:"conceptual-model",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Logical Model",id:"logical-model",level:2},{value:"Core Vocabulary Documentation",id:"core-vocabulary-documentation",level:3},{value:"DFR Documentation",id:"dfr-documentation",level:3},{value:"Implementation Guidance",id:"implementation-guidance",level:2},{value:"Verifiable Credential",id:"verifiable-credential",level:3},{value:"Facility",id:"facility",level:3},{value:"Location",id:"location",level:3},{value:"Confomrity Claims",id:"confomrity-claims",level:3},{value:"Samples",id:"samples",level:2}],p={toc:d};function u(e){let{components:t,...l}=e;return(0,n.kt)("wrapper",(0,i.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)(r.ZP,{mdxType:"Disclaimer"}),(0,n.kt)("h2",{id:"artifacts"},"Artifacts"),(0,n.kt)("p",null,"Are maintained at ",(0,n.kt)("a",{parentName:"p",href:"https://test.uncefact.org/vocabulary/untp/dfr/0/about"},"https://test.uncefact.org/vocabulary/untp/dfr/0/about")),(0,n.kt)("h3",{id:"stable-releases-for-implementation"},"Stable Releases For Implementation"),(0,n.kt)("p",null,"Version 1.0 stable release for production implementation is due Jan 2025"),(0,n.kt)("h3",{id:"release-for-pilot-testing"},"Release for Pilot Testing"),(0,n.kt)("p",null,"Version 0.4.1 release artifacts can be used for pilot testing.  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://test.uncefact.org/vocabulary/untp/dfr/0.4.1/"},"JSON-LD @context")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://test.uncefact.org/vocabulary/untp/dfr/untp-dfr-schema-0.4.1.json"},"JSON Schema")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://test.uncefact.org/vocabulary/untp/dfr/untp-dfr-instance-0.4.1.json"},"Sample Instance"))),(0,n.kt)("h3",{id:"latest-development-version"},"Latest Development Version"),(0,n.kt)("p",null,"Latest development versions are used to reflect lessons learned from pilots but should not be used for either pilot testing or production purposes. "),(0,n.kt)("h3",{id:"version-history"},"Version History"),(0,n.kt)("p",null,"History of releases is available from the ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",{parentName:"strong",href:"https://test.uncefact.org/vocabulary/untp/dfr/0/versions"},"Version history"))," page."),(0,n.kt)("h3",{id:"visualization"},"Visualization"),(0,n.kt)("p",null,"A UNTP digital traceability event may be rendered in any format desired by the issuer. However a default ",(0,n.kt)("strong",{parentName:"p"},(0,n.kt)("a",{target:"_blank",href:a(8274).Z},"Visualization"))," is provided here and includes mapping of visual rendering elements to the ",(0,n.kt)("a",{parentName:"p",href:"#logical-model"},"Logical Data Model"),"."),(0,n.kt)("h2",{id:"overview"},"Overview"),(0,n.kt)("p",null,"The digital facility record (DFR) is issued by the owner or operator of a production or manufacturing facility and is the carrier of ",(0,n.kt)("strong",{parentName:"p"},"facility data and sustainability information")," for an identified facility in the value chain. It is very similar to the digital product passport except that it describes a facility rather than a product. The DFR is discoverable in the same way as a DPP - namely by resolving the facility ID to an Identity Resolver service that will return links to facility records. The sustainability performance metrics are also at the facility annual total level rather than at the product level. In many value chains, facility level information may be sufficient to meet the due diligence requirements of buyers and so the facility record can be used independently of the product passport. However product passports should reference the facility at which the product was produced. Where both facility and product information are available, verifiers can perform an approximate mass-balance assessment for quantity based criteria such as GHG emissions. For example, the total individual emissions recorded in all products shipped from a facility should approximately equal the reported annual emissions of the facility. "),(0,n.kt)("h2",{id:"conceptual-model"},"Conceptual Model"),(0,n.kt)("p",null,"TBA"),(0,n.kt)("h2",{id:"requirements"},"Requirements"),(0,n.kt)("p",null,"The digital facility record is designed to meet the following detailed requirements as well as the more general ",(0,n.kt)("a",{parentName:"p",href:"https://uncefact.github.io/spec-untp/docs/about/Requirements"},"UNTP Requirements")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"ID"),(0,n.kt)("th",{parentName:"tr",align:null},"Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Requirement Statement"),(0,n.kt)("th",{parentName:"tr",align:null},"Solution Mapping"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DFR-01"),(0,n.kt)("td",{parentName:"tr",align:null},"Resolvable ID"),(0,n.kt)("td",{parentName:"tr",align:null},"Each facility must have at least one resolvable identifier that can be used in digital product passports and other data exchanges so that verifiers can always access the latest facility data."),(0,n.kt)("td",{parentName:"tr",align:null},"Facility.id")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DFR-02"),(0,n.kt)("td",{parentName:"tr",align:null},"Process categories"),(0,n.kt)("td",{parentName:"tr",align:null},"The DFR should support any number of industry process classifications using codes from a defined classification scheme (eg UN-CPC)"),(0,n.kt)("td",{parentName:"tr",align:null},"The classifications property")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DFR-03"),(0,n.kt)("td",{parentName:"tr",align:null},"Geo-Location"),(0,n.kt)("td",{parentName:"tr",align:null},"The DFR should should provide a means to specify both a geo-location point (aka pin) and a boundary geometry (aka polygon) so that verifiers can geo-locate supplier facilities"),(0,n.kt)("td",{parentName:"tr",align:null},"The Location class meets this need.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DFR-04"),(0,n.kt)("td",{parentName:"tr",align:null},"Owner / operator"),(0,n.kt)("td",{parentName:"tr",align:null},"The DFR should specify the owner and/or operator entity of the facility using one or more globally unique and resolvable entity identifiers."),(0,n.kt)("td",{parentName:"tr",align:null},"Facility.OperatedByParty is a UNTP Entity structure that meets this need.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DFR-05"),(0,n.kt)("td",{parentName:"tr",align:null},"Declarations"),(0,n.kt)("td",{parentName:"tr",align:null},"The DFR MUST provide a means to include any number of conformity declarations so that it can provide simple single point to aggregate all claims about the facility in one place"),(0,n.kt)("td",{parentName:"tr",align:null},'The "conformityDeclarations" array is designed to meet this need')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DFR-06"),(0,n.kt)("td",{parentName:"tr",align:null},"Conformity Topic"),(0,n.kt)("td",{parentName:"tr",align:null},"The DFR MUST provide a simple mechanism to express the sustainability/circularity/conformity topic for each claim so that similar claims can be grouped and the high level scope easily understood."),(0,n.kt)("td",{parentName:"tr",align:null},"The ConformityTopic code list is designed to meet this need")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DPP-07"),(0,n.kt)("td",{parentName:"tr",align:null},"Metrics"),(0,n.kt)("td",{parentName:"tr",align:null},"The DFR MUST provide a simple mechanism to quantify a conformity claim (eg carbon intensity, water consumption, etc) and to express any accuracy range."),(0,n.kt)("td",{parentName:"tr",align:null},'The "Metric" class is designed to meet this need')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DPP-08"),(0,n.kt)("td",{parentName:"tr",align:null},"Criteria"),(0,n.kt)("td",{parentName:"tr",align:null},"The DPP MUST provide a means to reference a standard or regulation as well as the specific criteria within that standard or regulation - so that claims can be understood in terms of the criteria against which they are made."),(0,n.kt)("td",{parentName:"tr",align:null},"Declaration.referenceRegulation, Declaration.referenceStandard, Declaration.referenceCriteria")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"DPP-09"),(0,n.kt)("td",{parentName:"tr",align:null},"Evidence"),(0,n.kt)("td",{parentName:"tr",align:null},"The DPP MUST provide a means to reference independent conformity assessments that support and verify the claims being made. The related evidence SHOULD be digitally verifiable but MAY be a simple document or web page. The confidence level attached to the evidence should be clear."),(0,n.kt)("td",{parentName:"tr",align:null},"The Declaration.conformityEvidence property references a relevant digital conformity credential")))),(0,n.kt)("h2",{id:"logical-model"},"Logical Model"),(0,n.kt)("p",null,"The Digital Facility Record is an assembly of re-usable components from the UNTP core vocabulary. "),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Digital Facility Record data model",src:a(5733).Z,width:"1178",height:"998"})),(0,n.kt)("h3",{id:"core-vocabulary-documentation"},"Core Vocabulary Documentation"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://jargon.sh/user/unece/untp-core/v/0.4.1/artefacts/readme/render"},"UNTP core types vocabulary")," defines the uniquely identified Linked Data entities such as Product, Location, Facility, Party, Standard, Regulation, Criteria, Declaration, Attestation, Endorsement. These entities provide the building blocks for construction of the Digital Facility Record."),(0,n.kt)("h3",{id:"dfr-documentation"},"DFR Documentation"),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"https://jargon.sh/user/unece/DigitalFacilityRecord/v/0.4.1"},"DFR documentation")," provides a technology-neutral definition of classes, properties and code lists in the DFR model."),(0,n.kt)("h2",{id:"implementation-guidance"},"Implementation Guidance"),(0,n.kt)("p",null,"This section provides sample JSON-LD snippets for each DFR component with guidance on their purpose and usage."),(0,n.kt)("h3",{id:"verifiable-credential"},"Verifiable Credential"),(0,n.kt)("p",null,"Digital Facility Records are issued as Vierifiable credentials. Please refer to ",(0,n.kt)("a",{parentName:"p",href:"/spec-untp/docs/specification/DigitalProductPassport#verifiable-credential"},"DPP VC Guidance")," for information about the use of the verifiaible credentials data model for UNTP.  THe issuing party for the VC should be the facility owner or operator. "),(0,n.kt)("h3",{id:"facility"},"Facility"),(0,n.kt)("p",null,"The facility object is the ",(0,n.kt)("inlineCode",{parentName:"p"},"credentialSubject"),". It comprises"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"An identifier for the facility.  This could be a self-issued DID, or an ID managed by an industry association such as a member / facility register, or a global location scheme such as a GS1 GLN.  Whatever the facility identifier scheme, facility IDs should be resolvable and verifiable."),(0,n.kt)("li",{parentName:"ul"},"An industry process category, preferably using a global standard classificaiton scheme such as UN ISIC."),(0,n.kt)("li",{parentName:"ul"},"The ",(0,n.kt)("inlineCode",{parentName:"li"},"operatedByParty")," for the facility, typically identified using a national business register or a glbal business identifier scheme."),(0,n.kt)("li",{parentName:"ul"},"The semi-strucutred address for the facility."),(0,n.kt)("li",{parentName:"ul"},"The geolocation information for the facility (using PlusCodes adn GeoJSON - see below)"),(0,n.kt)("li",{parentName:"ul"},"The confirmity claims about the facility made by the facility owner or operator - following the same ",(0,n.kt)("inlineCode",{parentName:"li"},"Declaratoion")," structure as used by the UNTP Digital Product Passport.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'  "credentialSubject": {\n    "type": [\n      "Facility"\n    ],\n    "id": "https://samplefacilityregister.org/1234567",\n    "registeredId": "1234567",\n    "description": "LiFePO4 Battery plant number 7",\n    "name": "Example facility 7",\n    "idScheme": {\n      "type": [\n        "IdentifierScheme"\n      ],\n      "id": "https://samplefacilityregister.org",\n      "name": "A facility register"\n    },\n    "countryOfOperation": "AU",\n    "processCategory": [\n      {\n        "type": [\n          "Classification"\n        ],\n        "id": "https://unstats.un.org/unsd/classifications/Econ/isic/2611",\n        "code": "2611",\n        "name": "Manufacture of solar cells, solar panels and photovol",\n        "schemeID": "https://unstats.un.org/unsd/classifications/Econ/isic",\n        "schemeName": "UN Standard Industry Classification"\n      },\n      {...}\n    ],\n    "operatedByParty": {\n      "type": [\n        "Identifier"\n      ],\n      "id": "https://abr.business.gov.au/ABN/View?abn=90664869327",\n      "name": "Sample Company Pty Ltd.",\n      "registeredId": "90664869327",\n      "idScheme": {\n        "type": [\n          "IdentifierScheme"\n        ],\n        "id": "https://abr.business.gov.au",\n        "name": "Australian Business Number"\n      }\n    },\n    "otherIdentifier": [..],\n    "address": {\n      "streetAddress": "level 11, 15 London Circuit",\n      "postalCode": "2601",\n      "addressLocality": "Acton",\n      "addressRegion": "ACT",\n      "addressCountry": "AU"\n    },\n    "locationInformation": {..},\n    "conformityClaims": [..]\n  }\n}\n')),(0,n.kt)("h3",{id:"location"},"Location"),(0,n.kt)("p",null,"Facility location is a value object (ie it does not have a unique identifier). It's purpose it to locate the facility in a geographic area with whatever degree of resolution required. A location object must include at leaqst one of the following geolocation properties:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"An open location code (also know as ",(0,n.kt)("a",{parentName:"li",href:"https://maps.google.com/pluscodes/"},"Plus Codes"),"). Plus codes are essentially a grid reference and can define an small area that is virtually a pin location (eg ",(0,n.kt)("a",{parentName:"li",href:"https://plus.codes/8CGRC78W+MM"},"https://plus.codes/8CGRC78W+MM"),") or a much larger area (eg Roughly Madrid city - ",(0,n.kt)("a",{parentName:"li",href:"https://plus.codes/8CGRC700+"},"https://plus.codes/8CGRC700+"),') by removing digits after the "+" and replacing grid digits with an even number of trailing zeros. '),(0,n.kt)("li",{parentName:"ul"},"A geoLocation as a ",(0,n.kt)("a",{parentName:"li",href:"https://datatracker.ietf.org/doc/html/rfc7946#appendix-A.1"},"GeoJSON Point")," as a decimal lattitude / longditude pair.  "),(0,n.kt)("li",{parentName:"ul"},"A geoBoundary as a ",(0,n.kt)("a",{parentName:"li",href:"https://datatracker.ietf.org/doc/html/rfc7946#appendix-A.3"},"GeoJSON Polygon")," that defines any closed boundary (or collection of closed boundaries) as a sequence of lat/long pairs where the first and last pair represent the same point.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'\n    "locationInformation": {\n      "plusCode": "https://plus.codes/8CGRC78W+MM",\n      "geoLocation": {\n        "type": "Point",\n        "coordinates":[\n            40.416688,\n            -3.703313,\n          ]\n      },\n      "geoBoundary": {\n        "type": "Polygon",\n         "coordinates": [\n                 [100.0, 0.0],\n                 [101.0, 0.0],\n                 [101.0, 1.0],\n                 [100.0, 1.0],\n                 [100.0, 0.0]\n             ]\n      }\n')),(0,n.kt)("h3",{id:"confomrity-claims"},"Confomrity Claims"),(0,n.kt)("p",null,"Conformity information is included in the Digital Facility Record as an array of UNTP Declaration structures. The same structure is re-used for confomrity Information in Digital Product Passports nad for third party assessments in UNTP Digital Conformity Credentials (DCC). Please refer to the ",(0,n.kt)("a",{parentName:"p",href:"/spec-untp/docs/specification/SustainabilityVocabularyCatalog"},"Sustainability Vocabulary Page")," for further information and examples."),(0,n.kt)("h2",{id:"samples"},"Samples"))}u.isMDXComponent=!0},8274:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/files/DigitalFacilityRecordRender-7641592eb2c14df99895c8b8e191dfe6.png"},5733:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/DigitalFacilityRecord-28d43ca8654f098f46e039d716be8220.svg"}}]);